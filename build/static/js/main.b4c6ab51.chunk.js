(this.webpackJsonpkartta=this.webpackJsonpkartta||[]).push([[0],{150:function(e,t,a){e.exports=a(238)},155:function(e,t,a){},156:function(e,t,a){},238:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(20),s=a.n(i),l=(a(155),a(156),a(64)),c=a(248),o=a(249),u=a(15),m=a(67),d=a(247),g=a(14);function p(e){return{type:"SET_ALL_EVENTS",allEvents:e}}function h(e){return{type:"SET_FILTERED_EVENTS",filteredEvents:e}}var E=a(55),v=a(149);function f(){var e=new Date;return e.setDate(e.getDate()+0),e.toISOString().substr(0,10)}var y={range:1,chosenTags:[],allTags:[{categoryTitle:"Children",tags:["babies","children (age groups)","children (family members)","Children and families","Daycare and education","early childhood education and care","families with babies","families with children","families","Kids","Lastentapahtumat","playgrounds","preschoolers (age group)","pupils","Pupils","toddlers","playing (children's games)"],isChecked:!0},{categoryTitle:"Theatre",tags:["children's theatres (theatre for children)","circus (performing arts)","plays","Teatteri ja sirkus","Teatteri"],isChecked:!0},{categoryTitle:"Music",tags:["a cappella","art music","church music","Concerts and clubs","concerts","games with music","jazz","live music","music clubs","music dramas","music","musicals","Musiikki","operas","organ music","rock music","singing games","songs"],isChecked:!0},{categoryTitle:"Dance",tags:["ballet (art forms)","ballets (works)","contemporary dance","dance (performing arts)","Tanssi"],isChecked:!0},{categoryTitle:"Exhibitions",tags:["art exhibitions","art museums","exhibitions","Exhibitions","Kuvataide","museums","N\xe4yttelyt"],isChecked:!0},{categoryTitle:"Sports and Outdoors",tags:["billiards","clubs (recreational)","exercise games","family sports","games","Games","gymnastics","ice hockey","outdoor games","outdoor recreation","physical training","residents\u2019 parks","sports contests","sports","winter sports"],isChecked:!0},{categoryTitle:"Fine Arts",tags:["art","contemporary art","culture","fine arts","literary art","literature","Literature"],isChecked:!0},{categoryTitle:"Design",tags:["ceramic art","ceramics","craft skills","design (artistic creation)","painting (visual arts)"],isChecked:!0},{categoryTitle:"Cultural Events",tags:["cinema (art forms)","comedy films","cultural events","Elokuva ja media","Elokuvat","films","horror","journalism","stand-up comedy","theatre events","theatre"],isChecked:!0},{categoryTitle:"Talks and Workshops",tags:["Book clubs","conversation","democracy","hobby crafting","Language Caf\xe9s and discussion groups","lectures","Luennot ja keskustelut","political decision making","reading","story hours","Story hours","town and city councils","Ty\xf6pajat","urban policy","workshops"],isChecked:!0},{categoryTitle:"Online and TV",tags:["Et\xe4tapahtumat","N\xe4kyy TV-sovelluksessa","remote participation","Suomi (TV)"],isChecked:!0},{categoryTitle:"Rare and Other Topics",tags:["Annantalo","Caisa","courses (societal objects)","Courses","Culture and leisure","Englanti (TV)","Englanti","Entresse Library","Espoo","Events and tips","events","festivals","Finnish language","food","General","guidance","HelMet","Helsinki","Immigrants","Infon\xe4yt\xf6t (Helsinki)","Juttuja kirjastosta","Kannelm\xe4en kirjasto ","Kanneltalo","Kauniainen","Kirjallisuus ja sanataide","languages","Lauttasaari library","Libraries and services","libraries","Libraries","Library Oodi","Malminkartano Library","Malmitalo","migrants","morning activities","Muu","Muut tapahtumat","Normaali","Nuorille","nursery rhyme","Opastuskalenteri","Other events","other languages","Oulunkyl\xe4 Library","Palvelut","participation","performing arts","Pukinm\xe4en kirjasto ","Rikhardinkatu Library","Ruotsi (TV)","Ruotsi","Russian language","Russian","Savoy-teatteri","senior citizens","Senior citizens","Sirkus","Social services and health care","Stoa","students","Students","Suomi","Teens","Tikkurilan kirjasto ","Training and courses","Vantaa","Vuotalo","well-being","young people","Youth","\u0410\u0444\u0438\u0448\u0430","Events","handcrafting","trips"].concat(["sustainable development","Pilates method","drawing (artistic creation)","children's music","opera (arts)","contemporary circus","photography exhibitions","popular music","N\xf6ykki\xf6 Library","Bibban just nu","dance events","chair exercise","yoga","stretching exercise","folk music (traditional music)","health enhancing physical activity","jewellery","handicrafts","Suutarilan kirjasto ","Maunula Library","responsibility (properties)","Muut kulttuuritapahtumat (monitaide)","fairy tales","nature","technology","communications technology","heavy metal","music theatres","film music","architecture","figure skating","ice dancing","Pit\xe4j\xe4nm\xe4en kirjasto ","walking tours","homosexuality","Pasila Library","environment","art galleries","Christmas","adults","burlesque","health services","photographic art","modern art","Lumo Library","It\xe4keskuksen kirjasto ","social services","Aikuiset","chamber music","Martinlaakson kirjasto ","food culture","entertainment","installations (works of art)","children's culture","history","tradition","virtuality","Kallio Library","video art","Sandkulla bibliotek ","Myyrm\xe4en kirjasto ","Hakunilan kirjasto ","Library Apple","literature circles","tapahtuma","teaching and instruction","comedy (style)","tourism","water systems","Ateneum","Vuosaari Library","Christmas tradition","Malmin kirjasto ","recycling","bingo","library services","Internet","Stoan","Herttoniemen kirjasto ","punk rock","shows","urban culture","perinnetapahtuma","electronic popular music","piano music","Egyptology","Etel\xe4-Haaga Library","social work","Stoa (Helsinki)","water quality","Design ja k\xe4sity\xf6","Lapset","sculpture (visual arts)","Harrastuspassi (Helsinki)","sailing","T\xf6\xf6l\xf6n kirjasto ","Job seekers","fairs and markets","Tapiola Library","Et\xe4osallistuminen","choral music","health","blues (Afro-American music)","world music","Vapaa-ajan kurssit","body awareness","Kalaj\xe4rven kirjasto ","classics","water protection","Kiasma","running","furniture","sports events","beauty care sector","harp instruments","camps","self-management (personal development)","wines","Ohjelmasivun alanosto","voyages and travels","flute music","spelman music","astronomy","walking (motion)","Midsummer","music technology","early music","motorcycling","carnivals (celebrations)","Saint Lucy's Day","gardening","Easter","physical well-being","media art","May Day","boating","hamburgers","landscape architecture","documentary films","collections","prehistory","multiculturalism","Sibelius Violin Competition","events related to mutual activity","working life","horse sports","show jumping","ryijy rugs","art handicraft","magicians","beer","startup companies","growth companies","beverages","beverage industry","Ven\xe4j\xe4nkielinen kirjasto","Suomenlinnan kirjasto ","floorball","vegetation","comic art","comics","football","ball sports","concert activity","auction","charity events","independence days","child protection","archaeology","traffic","symphony orchestras","dog shows","forests","climate changes","climate","science","maritime navigation","primigravida","maternity leave","pop up phenomena","tableware","vintage","parenthood","stay-at-home mothers","maternity","mothers","skateboarding","light music","hard rock","fashion","rockabilly music","basketball","Muotoilu","cricket","light music orchestras","podcasting","Helsinki residents","urban nature","nature sites","nature conservation","nature tourism","video artists","sound art","musiikki","experimental music","festivaali","Puistolan kirjasto ","celebrations","Tapanilan kirjasto ","skiing","Arabianrannan kirjasto ","schlager music","folk rock","rhythm and blues music","improvisations (compositions)","music for meditation","safety and security","stars","motoring"]),isChecked:!0}],eventSearch:[],filteredEvents:[],allEvents:[],userLocation:{},selectedDate:f(),timeNow:f(),selectedFilters:{timeFilter:!0,tagFilter:!0,locationFilter:!0}};var k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TAG":return Object.assign({},e,{chosenTags:[].concat(Object(v.a)(e.chosenTags),[t.tag])});case"REMOVE_TAG":var a=e.chosenTags.filter((function(e){return e!=t.tag}));return Object.assign({},e,{chosenTags:[a]});case"SET_CHOSEN_TAGS":return Object.assign({},e,{chosenTags:t.tags});case"SET_TIME_NOW":return Object.assign({},e,{timeNow:t.time});case"SET_SELECTED_DATE":return Object.assign({},e,{selectedDate:t.selectedDate});case"SET_USER_LOCATION":return Object.assign({},e,{userLocation:t.userLocation});case"SET_LOCATION_RANGE":return Object.assign({},e,{range:t.range});case"SET_ALL_EVENTS":return Object.assign({},e,{allEvents:t.allEvents});case"SET_FILTERED_EVENTS":return Object.assign({},e,{filteredEvents:t.filteredEvents});case"SET_EVENT_SEARCH":return Object.assign({},e,{eventSearch:t.eventSearch});default:return y}},b=a(129),j=Object(E.createStore)(k,Object(b.composeWithDevTools)());function O(e,t,a,n){var r=Math.PI*e/180,i=Math.PI*a/180,s=t-n,l=Math.PI*s/180,c=Math.sin(r)*Math.sin(i)+Math.cos(r)*Math.cos(i)*Math.cos(l);return c=60*(c=180*(c=Math.acos(c))/Math.PI)*1.1515,c*=1.609344}function T(e){var t=j.getState().range,a=j.getState().userLocation;var n=[];return e.forEach((function(e){(function(e){return O(e.location.lat,e.location.lon,a.latitude,a.longitude)<=t})(e)&&n.push(e)})),n}var S=a(48),w=a.n(S);function C(e){for(var t=function(e,t,a){var n=e[t];e[t]=e[a],e[a]=n},a=0;a<e.length-1;a++)for(var n=0;n<e.length-a-1;n++)e[n].event_dates.starting_day>e[n+1].event_dates.starting_day&&t(e,n,n+1);return e}function L(e,t){var a=[];return 0!==t&&void 0!==e?(e.map((function(e){if(w()(e.event_dates.starting_day).format("DD.MM.YYYY")===w()(t).format("DD.MM.YYYY")){var n=new Date;if(n.setDate(n.getDate()+0),n.toISOString().substr(0,10)===t){var r=new Date(e.event_dates.starting_day),i=new Date(e.event_dates.ending_day),s=(new Date).getTime(),l=new Date;l=(l=r-s)/1e3/60/60;var c=new Date;c=(c=i-s)/1e3/60/60,(l>0&&l<3||l<0&&c>0)&&a.push(e)}else a.push(e)}})),a=C(a)):e}function _(e){var t=j.getState().allTags,a=[];t.forEach((function(e){e.isChecked&&(a=a.concat(e.tags))}));var n=[];if(Array.isArray(a)&&0===a.length)return[];return void 0!=e&&e.forEach((function(e){(function(e){var t=!1;e.tags.some((function(e){return a.includes(e.name)}))&&(t=!0);return t})(e)&&n.push(e)})),n}function x(){var e=j.getState(),t=e.selectedDate,a=e.allEvents;a=function(e){var t=j.getState().eventSearch.toString().toLowerCase();return e.filter((function(e){var a=e.name.fi;return null===a&&null===(a=e.name.sv)&&(a=e.name.en),!0===a.toLowerCase().toString().includes(t)}))}(a=C(a=T(a=_(a=L(a,t))))),j.dispatch(h(a))}var N=a(103),D=a(109);function M(e){return{type:"SET_CHOSEN_TAGS",tags:e}}function A(){var e=Object(g.c)((function(e){return e.allTags})),t=Object(g.b)(),a=Object(n.useState)(0),i=Object(u.a)(a,2),s=i[0],l=i[1];function c(a){var n=e.findIndex((function(e){return e.categoryTitle==a.target.id})),r=e;r[n]=Object(N.a)(Object(N.a)({},r[n]),{},{isChecked:a.target.checked}),t(M(r)),l(s+1),x()}function o(e){return e.isChecked}return r.a.createElement("div",null,r.a.createElement(D.a,null,e.map((function(e){return r.a.createElement("div",{key:e.categoryTitle,className:"mb-3"},r.a.createElement(D.a.Check,{type:"checkbox",id:e.categoryTitle,label:e.categoryTitle,onChange:c,checked:o(e)}))}))))}function I(){var e=j.getState().allTags;e[0].isChecked?e.forEach((function(e){e.isChecked=!1})):e.forEach((function(e){e.isChecked=!0})),j.dispatch(M(e)),x()}function H(e){var t=Object(g.c)((function(e){return e})),a=Object(n.useState)(!1),i=Object(u.a)(a,2),s=i[0],l=i[1],c=t.filteredEvents.length,o=function(){l(!1),x()};return r.a.createElement("div",{className:"button-container"},r.a.createElement(m.a,{variant:"primary",size:"sm",className:e.css+" float-right filters-btn",onClick:function(){l(!0)}},"Filters"),r.a.createElement(d.a,{show:s,onHide:o},r.a.createElement(d.a.Header,null,r.a.createElement(d.a.Title,null,"Filters"),r.a.createElement("p",null,"Showing ",c," events.")),r.a.createElement(d.a.Body,null,r.a.createElement("div",{className:"App"},r.a.createElement(A,null))),r.a.createElement(d.a.Footer,null,r.a.createElement(m.a,{variant:"secondary",onClick:function(){I()}},"Check/Uncheck All"),r.a.createElement(m.a,{variant:"primary",onClick:o},"Close"))))}var F=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(c.a.Link,{href:"/"},"Events"),r.a.createElement(c.a.Link,{href:"/about"},"About"),r.a.createElement(c.a.Link,{href:"/instructions"},"Instructions"))},K=function(){var e;return r.a.createElement(o.a,(e={collapseOnSelect:!0,expand:"lg",bg:"secondary"},Object(l.a)(e,"bg","dark"),Object(l.a)(e,"variant","dark"),Object(l.a)(e,"className","justify-content-end"),e),r.a.createElement(o.a.Brand,{className:"mr-auto",href:"/"},"WalkInEvents"),r.a.createElement(o.a.Collapse,{id:"responsive-navbar-nav2",className:"justify-content-end ml-3 d-none d-lg-block"},r.a.createElement(c.a,{className:"mr-auto"},r.a.createElement(F,null))),r.a.createElement(o.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(o.a.Collapse,{id:"responsive-navbar-nav",className:"flex-grow-0"},r.a.createElement(c.a,{className:"d-lg-none"},r.a.createElement(F,null))))},R=a(46),P=a(246),V=a(59),W=a(8),Y=a.n(W),B=a(29),G=a(22),z=a(38);function J(){var e=Object(g.c)((function(e){return e})),t=e.userLocation,a={lat:t.latitude,lng:t.longitude},n=e.filteredEvents;var i=n.map((function(e,t){var n=function(e){var t=e.name.fi;return null===e.name.fi&&(t=e.name.sv,null===e.name.sv&&(t=e.name.en)),t}(e),i=w()("".concat(e.event_dates.starting_day)).format("DD.MM.YYYY HH:mm"),s=e.location.address.street_address+", "+e.location.address.postal_code+" "+e.location.address.locality,l=e.info_url,c=!1,o="primary";null===l&&(c=!0,o="secondary");var u=Y.a.latLng(a.lat,a.lng).distanceTo(Y.a.latLng(e.location.lat,e.location.lon)).toFixed(0)+" m";return r.a.createElement(B.a,{key:t,style:{marginTop:10},bg:"light"},r.a.createElement(B.a.Body,null,r.a.createElement(z.a,{style:{paddingBottom:20}},r.a.createElement(G.a,null,r.a.createElement(B.a.Title,null,n),r.a.createElement(B.a.Text,null,i,r.a.createElement("br",null),s))),r.a.createElement(z.a,null,r.a.createElement(G.a,{xs:6},u),r.a.createElement(G.a,{xs:6},r.a.createElement(m.a,{href:l,target:"_blank",variant:o,disabled:c},"WWW")))))}));return r.a.createElement("div",{className:"App"},n.length>0?r.a.createElement("p",{className:"search-p"},"Search: ",r.a.createElement("input",{id:"eventos",onChange:function(e){var t=e.target.value;j.dispatch({type:"SET_EVENT_SEARCH",eventSearch:t}),x()}})):r.a.createElement("p",null),i)}var U=function(){return r.a.createElement("div",null,r.a.createElement(V.a,null,r.a.createElement(J,{style:{marginTop:10}})))},q=a(25),$=a.n(q),Q=a(39);function X(e,t){return{type:"SET_USER_LOCATION",userLocation:{latitude:e,longitude:t}}}function Z(e,t,a){return ee.apply(this,arguments)}function ee(){return(ee=Object(Q.a)($.a.mark((function e(t,a,n){var r,i,s,l,c,o;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=j.getState(),i=r.selectedDate,s=[],e.next=5,fetch("/api/events/?distance_filter="+t+"%2C"+a+"%2C"+n);case 5:return l=e.sent,c=l,e.next=9,c.json();case 9:return o=e.sent,s=L(s=JSON.parse(o),i),j.dispatch(h(s)),e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(){return(te=Object(Q.a)($.a.mark((function e(){var t;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,fetch("api/events/").then((function(e){if(e.ok)return e.json();throw new Error("Getting all events failed")})).then((function(e){t=e.data})).catch((function(e){return console.error(e)}));case 3:j.dispatch(p(t));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ae=a(111),ne=a(114),re=a(112),ie=a(113),se=a(110),le=(a(164),a(136)),ce=a.n(le),oe=a(137),ue=a.n(oe),me=a(138),de=a.n(me),ge=a(140),pe=a(142),he=a.n(pe),Ee=(a(168),a(169),a(141)),ve=a.n(Ee);var fe=function(e){var t=Object(g.c)((function(e){return e.range})),a=("Range".concat(t),Object(g.b)());return r.a.createElement("div",null,r.a.createElement(ve.a,{min:"1",max:"20",size:"lg",tooltip:"on",tooltipPlacement:"top",value:t,tooltipLabel:function(e){return"".concat(e," km")},onChange:function(e){return a(function(e){return{type:"SET_LOCATION_RANGE",range:e}}(parseInt(e.target.value)))}}))};function ye(e){return{type:"SET_SELECTED_DATE",selectedDate:e}}function ke(){return r.a.createElement(z.a,null,r.a.createElement(G.a,{className:"infofooter"},r.a.createElement("p",null,"Copyright (c) 2020 Walk-In-Events. v:0.1")))}function be(){var e=Object(n.useState)(new Date),t=Object(u.a)(e,2),a=t[0],i=t[1],s=Object(g.c)((function(e){return e})),l=s.range,c=(s.selectedDate,Object(g.b)());return r.a.createElement("div",{className:"toolbarfooter"},r.a.createElement(V.a,{fluid:!0},r.a.createElement(z.a,null,r.a.createElement(G.a,{xs:3,md:1},r.a.createElement("p",{className:"range-slider-p"},"Range: ",l," km")),r.a.createElement(G.a,{xs:9,md:7},r.a.createElement(fe,null)),r.a.createElement(G.a,{xs:12,md:4},r.a.createElement(he.a,{id:"selectday",dateFormat:"dd.MM.yyyy",selected:a,onChange:function(e){var t=e;t.setDate(t.getDate()+0);var a=t.toISOString().substr(0,10);i(e),c(ye(a)),x()}})))))}var je=a(146),Oe=a.n(je);function Te(e){var t=Object(n.useState)(!1),a=Object(u.a)(t,2),i=a[0],s=a[1],l=e.name,c=e.time,o=e.address,d=e.desc,g=Oe()(e.fullDesc),p=e.distance,h=e.info_url,E=!1,v="primary";null===h&&(E=!0,v="secondary");var f=i?"Read Less << ":"Read More >> ";return r.a.createElement(B.a,{bg:"light"},r.a.createElement(B.a.Body,null,r.a.createElement(z.a,{style:{paddingBottom:20}},r.a.createElement(G.a,null,r.a.createElement(B.a.Title,null,l),r.a.createElement(B.a.Text,null,c,r.a.createElement("br",null),o),r.a.createElement(B.a.Text,null,d,i&&g,r.a.createElement("a",{className:"read-more-link",onClick:function(){s(!i)}},r.a.createElement("strong",null,f))))),r.a.createElement(z.a,null,r.a.createElement(G.a,{xs:6},p," m"),r.a.createElement(G.a,{xs:6},r.a.createElement(m.a,{href:h,target:"_blank",variant:v,disabled:E},"WWW")))))}var Se=function(){var e=Object(g.c)((function(e){return e})),t=e.filteredEvents,a=e.range,n=e.userLocation,i=r.a.useState(15),s=Object(u.a)(i,2),l=s[0],c=(s[1],{lat:n.latitude,lng:n.longitude}),o=Object(ge.renderToStaticMarkup)(r.a.createElement("span",{style:{color:"Tomato"}},r.a.createElement("i",{className:"fas fa-street-view fa-3x"}))),m=Object(W.divIcon)({html:o}),d=Y.a.icon({iconUrl:ce.a,shadowUrl:ue.a});return Y.a.Marker.prototype.options.icon=d,r.a.createElement("div",{className:"mapDivContainer"},r.a.createElement(ae.a,{center:c,zoom:l},r.a.createElement(ne.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),r.a.createElement(de.a,null,t.map((function(e,t){return r.a.createElement(re.a,{key:t,position:[e.location.lat,e.location.lon]},r.a.createElement(ie.a,null,r.a.createElement(Te,{name:e.name.fi,desc:e.description.intro,fullDesc:e.description.body,address:e.location.address.street_address,time:w()("".concat(e.event_dates.starting_day)).format("DD.MM.YYYY HH:mm"),distance:Y.a.latLng(c.lat,c.lng).distanceTo(Y.a.latLng(e.location.lat,e.location.lon)).toFixed(0),info_url:e.info_url})))}))),r.a.createElement(re.a,{key:1,position:[c.lat,c.lng],icon:m}),r.a.createElement(se.a,{center:[c.lat,c.lng],radius:1e3*a})),r.a.createElement(be,null))};function we(){var e=Object(g.d)(),t=Object(g.c)((function(e){return e.range})),a=Object(g.b)(),i=r.a.useState(""),s=Object(u.a)(i,2),l=s[0],c=s[1],o=Object(n.useState)(e.getState().selectedDate),m=Object(u.a)(o,2),d=(m[0],m[1]),p=r.a.useState(0),h=Object(u.a)(p,2),E=(h[0],h[1],r.a.useState("LOADING")),v=Object(u.a)(E,2),y=v[0],k=v[1],b=Object(n.useState)(!1),j=Object(u.a)(b,2),O=(j[0],j[1]),T=Object(n.useState)(),S=Object(u.a)(T,2),w=S[0],C=S[1],L=Object(n.useState)(),_=Object(u.a)(L,2),N=_[0],D=_[1],M=Object(n.useState)(e.getState().range),A=Object(u.a)(M,2),I=A[0];A[1];function H(e,t,a){return F.apply(this,arguments)}function F(){return(F=Object(Q.a)($.a.mark((function e(t,a,n){var r;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Z(t,a,n),e.t0=c,e.next=4,r;case 4:return e.t1=e.sent,(0,e.t0)(e.t1),e.t2=k,e.next=9,"";case 9:return e.t3=e.sent,(0,e.t2)(e.t3),e.t4=O,e.next=14,!0;case 14:return e.t5=e.sent,(0,e.t4)(e.t5),e.t6=console,e.next=19,l;case 19:e.t7=e.sent,e.t6.log.call(e.t6,e.t7);case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(n.useEffect)((function(){navigator.geolocation&&K()}),[]),Object(n.useEffect)((function(){x()}),[t]),Object(n.useEffect)((function(){!function(){te.apply(this,arguments)}()}),[]);var K=function(){var e=Object(Q.a)($.a.mark((function e(){var t,n,r,i,s,l;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l=function(e){C(60.1733244),D(24.9410248),a(X(60.1733244,24.9410248)),R(),navigator.geolocation.clearWatch(t)},s=function(){return(s=Object(Q.a)($.a.mark((function e(r){var i;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.coords;case 2:if(i=e.sent,n.latitude===i.latitude||n.longitude===i.longitude){e.next=16;break}return C(i.latitude),D(i.longitude),e.t0=a,e.t1=X,e.next=10,i.latitude;case 10:e.t2=e.sent,e.t3=i.longitude,e.t4=(0,e.t1)(e.t2,e.t3),(0,e.t0)(e.t4),R(),navigator.geolocation.clearWatch(t);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)},i=function(e){return s.apply(this,arguments)},n={latitude:0,longitude:0},r={enableHighAccuracy:!0,timeout:5e3,maximumAge:0},t=navigator.geolocation.watchPosition(i,l,r);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function R(){return P.apply(this,arguments)}function P(){return(P=Object(Q.a)($.a.mark((function t(){var a,n,r;return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getState().userLocation.latitude;case 2:return a=t.sent,t.next=5,e.getState().userLocation.longitude;case 5:return n=t.sent,void 0===a&&void 0===n&&(a=w,n=N),r=f(),d(r),void 0===a&&void 0===n&&(a=20.1733244,n=24.9410248),t.t0=H,t.next=13,a;case 13:t.t1=t.sent,t.t2=n,t.t3=I,(0,t.t0)(t.t1,t.t2,t.t3);case 17:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return r.a.createElement("div",{className:"App"},""===y?r.a.createElement(Se,null):r.a.createElement("div",null,"ei ladattu"))}function Ce(e){var t=Object(g.c)((function(e){return e})),a=Object(n.useState)(!1),i=Object(u.a)(a,2),s=(i[0],i[1],t.filteredEvents.length);return r.a.createElement("div",{className:"filterEventsSidebar"},r.a.createElement("p",null,"Showing ",s," events."),r.a.createElement(A,null),r.a.createElement(m.a,{variant:"secondary",onClick:function(){I()}},"Check/Uncheck All"))}var Le=function(){var e=Object(n.useState)("TabKey"),t=Object(u.a)(e,2),a=(t[0],t[1],Object(n.useState)(!0)),i=Object(u.a)(a,2),s=i[0],l=i[1],o=function(){l(!s)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(V.a,{fluid:!0},r.a.createElement(R.a.Container,{defaultActiveKey:"map"},r.a.createElement(z.a,{className:"tabnav-row"},r.a.createElement(G.a,{xs:9},r.a.createElement(c.a,null,r.a.createElement(c.a.Item,null,r.a.createElement(c.a.Link,{eventKey:"map"},"Map")),r.a.createElement(c.a.Item,null,r.a.createElement(c.a.Link,{eventKey:"list"},"List")))),r.a.createElement(r.a.Fragment,null,0==s&&r.a.createElement(G.a,{xs:3,className:"btn-heading-container-closed"},r.a.createElement(m.a,{className:"d-none d-md-block float-right filters-btn",onClick:o},"Filters"),r.a.createElement(H,{css:"d-block d-md-none"})),1==s&&r.a.createElement(G.a,{xs:3,className:"btn-heading-container-open"},r.a.createElement(H,{css:"d-block d-md-none float-right filters-btn"}),r.a.createElement("h5",{className:"d-none d-md-inline"},"Filters"),r.a.createElement("a",{href:"#",className:"d-none d-md-inline float-right close-sidebar",onClick:o},r.a.createElement(P.a,{color:"gray",size:27}))))),r.a.createElement(z.a,null,0==s&&r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,{sm:12,md:12},r.a.createElement(R.a.Content,null,r.a.createElement(R.a.Pane,{eventKey:"map"},r.a.createElement(we,null)),r.a.createElement(R.a.Pane,{eventKey:"list"},r.a.createElement(U,null))))),1==s&&r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,{sm:12,md:9},r.a.createElement(R.a.Content,null,r.a.createElement(R.a.Pane,{eventKey:"map"},r.a.createElement(we,null)),r.a.createElement(R.a.Pane,{eventKey:"list"},r.a.createElement(U,null)))),r.a.createElement(G.a,{md:3,className:"d-none d-md-block"},r.a.createElement(Ce,null))))),r.a.createElement(ke,null)))},_e=a(147),xe=a(18),Ne=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(V.a,{className:"textpage"},r.a.createElement("h1",null,"About ",r.a.createElement("span",null,"Walk-In-Events")),r.a.createElement("p",null,"Walk-In-Events on sovellus, joka n\xe4ytt\xe4\xe4 k\xe4ytt\xe4j\xe4lle h\xe4nt\xe4 l\xe4hell\xe4 olevia tapahtumia. Tapahtumat haetaan Helsinki Open APIsta. Tapahtumatietojen oikeuksien haltija on Helsingin kaupungin kanslia. Tiedoille on m\xe4\xe4ritelty BY-lisenssi. Kyseinen sovellus on Haaga-Helian Ohjelmistoprojekti II -opintojaksolla K\xe4py-tiimin toteuttama ryhm\xe4ty\xf6. "),r.a.createElement("p",null,"Sovellus perustuu avoimeen l\xe4hdekoodiin. Repositoriomme on julkinen. Koodit ja tekninen dokumentaatio l\xf6ytyv\xe4t",r.a.createElement("a",{href:"https://github.com/Kapyjengi/WalkInEvents"}," GitHubista"),"."),r.a.createElement("p",null)),r.a.createElement(ke,null))},De=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(V.a,{className:"textpage"},r.a.createElement("h1",null,"How to use"),r.a.createElement("p",null,"Kun sovellus k\xe4ynnistet\xe4\xe4n, se hakee k\xe4ytt\xe4j\xe4n sijainnin. Jos paikannus on pois p\xe4\xe4lt\xe4 tai paikannus ei onnistu, sovellus n\xe4ytt\xe4\xe4 oletussijaintina Helsingin keskustan."),r.a.createElement("p",null,"Oletuksena sovellus n\xe4ytt\xe4\xe4 tapahtumia kilometrin s\xe4teell\xe4. Et\xe4isyytt\xe4 ja p\xe4iv\xe4m\xe4\xe4r\xe4\xe4, joiden mukaan tapahtumia tarkastellaan, voi muuttaa kartan alapuolella olevista valikoista."),r.a.createElement("p",null,"Jos tapahtumia l\xf6ytyy valitulta et\xe4isyydelt\xe4, sovellus n\xe4ytt\xe4\xe4 ne pinnein\xe4 kartalla. Pinni\xe4 klikkaamalla tapahtuman tiedot avautuvat popup-ikkunassa. Kaikki tapahtumia voi my\xf6s tarkastella listana List -v\xe4lilehdell\xe4. Sielt\xe4 tapahtumia voi rajata my\xf6s k\xe4ytt\xe4m\xe4ll\xe4 vapaata sanahakua tapahtuman nimest\xe4"),r.a.createElement("p",null,"Tapahtumia voi my\xf6s rajata sen tyypin mukaan k\xe4ytt\xe4m\xe4ll\xe4 toimintoa Filters.")),r.a.createElement(ke,null))};function Me(){return r.a.createElement("div",null,r.a.createElement(_e.a,null,r.a.createElement(K,null),r.a.createElement(xe.c,null,r.a.createElement(xe.a,{path:"/about",component:Ne}),r.a.createElement(xe.a,{path:"/instructions",component:De}),r.a.createElement(xe.a,{path:"/",component:Le}))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(237);s.a.render(r.a.createElement(g.a,{store:j},r.a.createElement(Me,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[150,1,2]]]);
//# sourceMappingURL=main.b4c6ab51.chunk.js.map